

# OSI模型

<table border="1">    <tr>        <td>OSI七层网络模型</td>        <td>TCP/IP四层概念模型</td>        <td>对应协议</td>        <td>作用</td>    </tr>    <tr>        <td>应用层</td>        <td rowspan="3">应用层</td>        <td>FTP文件传输 NFS共享目录 http</td>        <td>提供用户服务，具体功能有应用程序实现</td>    </tr>    <tr>        <td>表示层</td>        <td>Telnet远程访问</td>        <td>数据的压缩优化加密</td>    </tr>    <tr>        <td>会话层</td>        <td>DSN分布式 SMTP电子邮件传输</td>        <td>建立用户级的连接，选择适当的传输服务</td>    </tr>    <tr>        <td>传输层</td>        <td>传输层</td>        <td>TCP UDP</td>        <td> 提供传输服务</td>    </tr>    <tr>        <td>网络层</td>        <td>网络层</td>        <td>IP  ARP地址解析</td>        <td> 路由选择，网络互联</td>    </tr>    <tr>        <td>数据链路层</td>        <td rowspan="2">网络接口层</td>        <td></td>        <td>进行数据交换，控制具体数据的发送</td>    </tr>    <tr>        <td>物理层</td>        <td></td>        <td>提供数据传输的硬件保证，网卡接口，传输介质</td>    </tr></table>
优点:

- 建立了统一的工作流程
- 分部清晰，各司其职，每个步骤分工明确
- 低了各个模块之间的耦合度，便于开发





# 三次握手

![](/home/tarena/桌面/总结/images/握手.png)
| 握手   | 端     | 数据包              |  端     |
| - | - | - | - |
| 第一次 | 客户端 | syn=1 seq=x         |  服务端 |
| 第二次 | 服务端 | syn=1 ack=x+1 seq=y |  客户端 |
| 第三次 | 客户端 | ack=y+1 seq=x+1     | 服务端 |
- seq 本身的序列号
- ack 期望对方的序列号

四次挥手



# 四次挥手
![](/home/tarena/桌面/总结/images/挥手.png)
| 挥手   | 端   | 数据包                |  端   |
| - | - | - | - |
| 第一次 | A    | fin=1 seq=x           | B    |
| 第二次 | B    | ack=x+1 seq=y         | A    |
| 第三次 | B    | FIN=1 ack=y+1 seq = w |  A    |
| 第四次 | A    | seq=x+1 ack=w+1       | B    |



# tcp服务和udp服务有什么区别

|          | tcp                                  | upd                          |
| -------- | ------------------------------------ | ---------------------------- |
| 连接     | 基于连接                             | 无连接                       |
| 可靠性   | 可靠(无丢失，无失序，无差错，无重复) | 不可靠(会丢包 , 不保证顺序 ) |
| 资源     | 首部20字节 更占资源                  | 首部8字节                    |
|          | 面向流模式(一连串无结构的字节流)     | 面向报文(数据报模式)         |
| 连接数量 | 每条tcp点到点                        | UDP可以多对多                |



# sock编程

todo











